SET(
  NAME
  rec_ea09_messages
)

FILE( GLOB SRCS *.cpp )
FILE( GLOB MAIN_HEADER *.h )

ADD_LIBRARY(
  ${NAME}
  STATIC
  ${SRCS}
  ${MAIN_HEADER}
)

IF(WIN32 AND NOT MINGW)
	SET_TARGET_PROPERTIES( ${NAME} PROPERTIES COMPILE_FLAGS "/MP" )
ENDIF(WIN32 AND NOT MINGW)

TARGET_LINK_LIBRARIES(
	${NAME}
)

IF( DO_COMMON_INSTALL )
	SET( REC_EA09_MESSAGE_INCLUDE_INSTALL_DIR include/rec/ea09/messages )

	INSTALL(
		TARGETS ${NAME}
		ARCHIVE DESTINATION lib
		LIBRARY DESTINATION lib
		RUNTIME DESTINATION bin
	)

	INSTALL(
		FILES
		${MAIN_HEADER}
		DESTINATION ${REC_EA09_MESSAGE_INCLUDE_INSTALL_DIR}
	)
ENDIF( DO_COMMON_INSTALL )

SOURCE_GROUP( "Source Files" FILES ${SRCS} ${HEADER} )
SOURCE_GROUP( Moc REGULAR_EXPRESSION "(moc_|qrc_)" )